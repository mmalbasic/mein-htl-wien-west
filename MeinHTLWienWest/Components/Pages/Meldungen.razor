@page "/meldungen"

<PageTitle>Neue Meldungen</PageTitle>

<!-- Seiteninhalt (z. B. Problem-Karten) -->
<div class="page-bg">
    <!-- Header-Bereich -->
    <div class="container-fluid text-center">
        <h3 class="text-white mb-3">Meldungen</h3>
    </div>

    <!-- Problem-Karten -->
    <div class="card problem-card mb-3">
        <div class="card-body">
            <h5 class="card-title">Verunreinigung</h5>
            <p class="card-text">Beschreibung: Lorem ipsum dolor sit amet...</p>
            <div class="icon-row">
                <i class="fas fa-check text-success"></i>
                <i class="fas fa-hard-hat" style="color: orange;"></i>
                <i class="fas fa-info-circle text-danger"></i>
            </div>
        </div>

    </div>
    <div class="card problem-card mb-3">
        <div class="card-body">
            <h5 class="card-title">Kategorie</h5>
            <p class="card-text">Beschreibung: Lorem ipsum dolor sit amet...</p>
            <div class="icon-row">
                <i class="fas fa-check text-success"></i>
                <i class="fas fa-hard-hat" style="color: orange;"></i>
                <i class="fas fa-info-circle text-danger"></i>
            </div>
        </div>
    </div>
    <div class="card problem-card mb-3">
        <div class="card-body">
            <h5 class="card-title">Weiteres Problem</h5>
            <p class="card-text">Beschreibung: Lorem ipsum dolor sit amet...</p>
            <div class="icon-row">
                <i class="fas fa-check text-success"></i>
                <i class="fas fa-hard-hat" style="color: orange;"></i>
                <i class="fas fa-info-circle text-danger"></i>
            </div>
        </div>
    </div>
</div>

<!-- Fixed Toggle-Container, direkt über dem Footer -->
<div class="toggle-container">
    @if (showSelection)
    {
            <div class="filterselection">
                <button class="btn btn-dark filterselectionbtn">Neueste</button>
                <button class="btn btn-dark filterselectionbtn">In Bearbeitung</button>
                <button class="btn btn-dark filterselectionbtn">Fertig</button>
                <button class="filterselectionbtn btn btn-dark">Meine</button>
            </div>
    }
    <button class="filterbtn btn btn-dark" @onclick="ShowSelection">Meine</button>
</div>

<style>
  /* Gesamter Hintergrund in Lila */
  html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background-color: #4e148c;
  }

  /* Seiteninhalt (nicht fixiert – scrollbar, falls nötig) */
  .page-bg {
      width: 100%;
      background-color: #4e148c;
      padding: 20px;
      box-sizing: border-box;
      /* Extra unterer Abstand, damit der fixierte Bereich nicht Inhalt überdeckt */
      padding-bottom: 80px;
  }

  /* Problem-Karten (Glas-Effekt) */
  .problem-card {
      background: rgba(50, 50, 50, 0.7);
      border: none;
      border-radius: 10px;
      box-shadow: 5px 20px 50px rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(10px);
      width: 90%;
      max-width: 600px;
      margin: 20px auto;
  }

  .problem-card .card-title,
  .problem-card .card-text {
      color: white;
  }

  .icon-row {
      position: absolute;
      bottom: 10px;
      right: 10px;
      display: flex;
      gap: 12px; /* Abstand zwischen den Icons */
      font-size: 1.2rem;
  }

  /* Fixed Container für Toggle-Buttons – wird direkt über dem Footer angezeigt */
  .toggle-container {
      position: fixed;
      bottom: 60px; /* Annahme: Footer ist 60px hoch */
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 600px;
      display: flex;
      flex-direction: column;
  }

  /* Der "Meine"-Button – direkt am unteren Rand des Toggle-Containers */
  .filterbtn {
      width: 100vw;
      height: 65px;
      text-align: left;
      font-size: 24px;
      margin: 0;
      padding: 0 10px;
      margin-left: -5vw;
  }

  /* Container für die ausgeklappten Buttons – direkt über dem "Meine"-Button, ohne Abstand */
  .filterselection {
      display: flex;
      flex-direction: column;
  }

  /* Die ausgeklappten Buttons – ohne jeglichen vertikalen Abstand */
  .filterselectionbtn {
      width: 100vw;
      height: 50px;
      text-align: left;
      font-size: 24px;
      margin: 0;
      padding: 0 10px;
      border-radius: 0;
      margin-left: -5vw;
  }
</style>

@code {
    private bool showSelection = false;
    private void ShowSelection()
    {
        showSelection = !showSelection;
    }
}
